!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=(()=>{let e=[],t=[];const n=e=>{for(let n=0;n<t.length;n+=1)if(t[n].getID()===e)return t[n]},r=()=>{20===e.length?document.getElementById("btn-game-start").disabled=!1:document.getElementById("btn-game-start").disabled=!0};return{getPlayerPositions:()=>e,addPlayerPositions:t=>{t.forEach(t=>{e.push(t)}),r()},addPlayerPosition:t=>e.push(t),addPlayerShip:e=>{t.push(e)},getShip:n,addShipPositions:(e,n)=>{for(let r=0;r<t.length;r+=1)if(t[r].getID()===e)return n.forEach(e=>{t[r].addPosition(e)}),t[r].getPositions()},isInvalidPosition:(t,r)=>{const o=n(r).getPositions();for(let n=0;n<t.length;n+=1)if(e.includes(t[n])&&!o.includes(t[n]))return!0;return!1},removeAllShipsPositions:()=>{t.forEach(e=>{e.resetPositions()}),e=[],t=[],r()},removePlayerPositions:t=>{t.forEach(t=>{const n=e.indexOf(t);e.splice(n,1)})},removeShipPositions:(e,n)=>{for(let o=0;o<t.length;o+=1)if(t[o].getID()===e){r(),t[o].removePositions(n);break}},resetShipPositions:e=>{for(let n=0;n<t.length;n+=1)if(t[n].getID()===e)return t[n].resetPositions()},hasPlayerPosition:t=>e.includes(t),removeLastPlayerPosition:()=>{e.pop(),r()},hasPlayerPositions:t=>{for(let n=0;n<t.length;n+=1)if(e.includes(t[n]))return!0;return!1}}})();var o=(e,t,n)=>{let r=[],o=[];return{getID:()=>e,getType:()=>t,getSize:()=>n,getPositions:()=>r,addPosition:e=>{r.push(e)},overridePositions:e=>{const t=r[0],n=[...r].splice(1);return r=[t,...e],n},resetPositions:()=>{const e=[...r];return r=[],e},hit:e=>{o.push(e)},isSunk:()=>r.length===o.length}};var i=[{size:4,quantity:1,name:"battleship"},{size:3,quantity:2,name:"cruiser"},{size:2,quantity:3,name:"destroyer"},{size:1,quantity:4,name:"submarine"}];var s=()=>{(()=>{const e=document.getElementById("ships");let t="";i.forEach(e=>{const n=e.quantity;for(let i=0;i<n;i+=1){const n=o(`${e.name}-${i}`,e.name,e.size);r.addPlayerShip(n),t+=`<div id="${e.name}-${i}" class="ship-${e.name}-${i} horizontal-${e.name}" draggable="true"></div>`}}),e.innerHTML=t})(),document.querySelectorAll('*[class^="ship"]').forEach(e=>{e.addEventListener("dragstart",void 0,!1),e.addEventListener("dragend",void 0,!1),e.addEventListener("click",void 0,!1)}),(()=>{const e=document.querySelectorAll(".cell");for(const t of e)t.addEventListener("dragover",void 0,!1),t.addEventListener("dragenter",void 0,!1),t.addEventListener("dragleave",void 0,!1),t.addEventListener("drop",void 0,!1)})()};const d=(e,t,n)=>e>=0&&e<n-1&&0===t?"first-border":e===n-1&&0===t?"bottom-right-border":e===n-1&&t>0?"last-row-inner-border":"inner-border";var a=()=>{(()=>{const e=document.getElementById("board");e.innerHTML="";const t=["a","b","c","d","e","f","g","h","i","j"];for(let n=0;n<10;n+=1){let r=`<div id="cells-${n+1}" class="cells">`;for(let e=0;e<10;e+=1)r+=`<div id="cell-${n+1}-${t[e]}" class="cell ${d(n,e,10)}"></div>`;r+="</div>",e.innerHTML+=r}})()};const l="abcdefghij".split("");let c=[];const u=e=>{for(let t=0;t<e.length;t+=1){const n=e[t].split("-");if(e[t].includes("undefined"))return!1;if(n[0]>10||n[1]>"j")return!1;for(let n=0;n<c.length;n+=1)if(c[n][1].includes(e[t]))return!1}return!0},f=(e,t,n)=>{c.push([e,[...t],n])},v=(e,t,n)=>{let r=[e];const o=e.split("-"),i=parseInt(o[0]),s=o[1];if("horizontal"===n)for(let e=0;e<t;e+=1)r.push(`${i}-${l[l.indexOf(s)+e+1]}`);else for(let e=0;e<t;e+=1)r.push(`${i+e+1}-${s}`);return r},m=()=>`${Math.floor(10*Math.random())+1}-${l[Math.floor(10*Math.random())]}`;var g=()=>{a(),s(),r.removeAllShipsPositions(),c=[],i.forEach(e=>{for(let t=0;t<e.quantity;t+=1){const n=m();let r="",o=[];0===Math.floor(2*Math.random())?(r="horizontal",o=v(n,e.size-1,r)):(r="vertical",o=v(n,e.size-1,r)),u(o)?f(`${e.name}-${t}`,o,r):t-=1}}),(()=>{for(let e=0;e<c.length;e+=1)r.addPlayerShip(o(c[e][0],c[e][0].split("-")[0],c[e][1].length)),r.addShipPositions(c[e][0],c[e][1]),r.addPlayerPositions(c[e][1])})(),(()=>{for(let e=0;e<c.length;e+=1){const t=document.getElementById(c[e][0]);document.getElementById(`cell-${c[e][1][0]}`).appendChild(t),t.className=`ship-${c[e][0]} dropped ${c[e][2]}-${c[e][0].split("-")[0]}`}})()};var h=()=>{console.log("Game Started"),(()=>{const e=document.querySelectorAll('*[class^="ship"]');document.querySelectorAll('*[class^="cell"]').forEach(e=>{e.removeEventListener("dragover",void 0),e.removeEventListener("dragenter",void 0),e.removeEventListener("dragleave",void 0),e.removeEventListener("drop",void 0)}),e.forEach(e=>{e.draggable=!1,e.addEventListener("dragstart",void 0,!1),e.addEventListener("dragend",void 0,!1),e.addEventListener("click",void 0,!1)})})()};a(),document.getElementById("user-options").innerHTML='\n    <button id="btn-randomize" class="btn-randomize">Random</button><br>\n    <button id="btn-game-start" class="btn-game-start">Start Game</button>\n  ',(e=>{e.addEventListener("click",()=>{g()})})(document.getElementById("btn-randomize")),(e=>{e.disabled=!0,e.addEventListener("click",()=>{h()})})(document.getElementById("btn-game-start")),s()}]);